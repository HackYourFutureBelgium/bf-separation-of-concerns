<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>guessing game</title>

        <style>
            .centered {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                text-align: center;
            }
        </style>
    </head>

    <body>
        <main id="user-interface" class="centered">
            <button id="set">set secret</button> <br />
            <button id="guess">guess secret</button> <br />
            <button id="cheat">cheat</button>
        </main>

        <script id="data">
            let secret = '';
        </script>

        <script id="handlers">
            const setSecretHandler = () => {
                debugger;

                const newSecret = prompt('Set a new secret');
                if (newSecret === null) {
                    return;
                }

                secret = newSecret;

                alert('Secret set.');
            };

            const guessSecretHandler = () => {
                debugger;

                const guess = prompt('Guess the secret');
                if (guess === null) {
                    return;
                }

                const isCorrect = guess === secret;

                if (isCorrect) {
                    alert('Bingo!');
                } else {
                    alert('Incorrect');
                }
            };

            const cheatHandler = () => {
                debugger;

                const isACheater = confirm('Are you a cheater?');

                if (isACheater) {
                    alert(`The secret is ${secret}.`);
                } else {
                    alert('Great, guess again.');
                }
            };
        </script>

        <script id="listeners">
            // https://developer.mozilla.org/en-US/docs/Tools/Page_Inspector/How_to/Examine_event_listeners
            // https://stackoverflow.com/questions/7338193/using-chrome-how-to-find-to-which-events-are-bound-to-an-element

            document
                .getElementById('set')
                .addEventListener('click', setSecretHandler);
            document
                .getElementById('guess')
                .addEventListener('click', guessSecretHandler);
            document
                .getElementById('cheat')
                .addEventListener('click', cheatHandler);
        </script>
    </body>
</html>
