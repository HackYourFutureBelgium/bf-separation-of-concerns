<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>FAQ</title>
    </head>
    <body>
        <main id="user-interface">
            <section id="faqs">
                <details id="one-fish-details">
                    <summary id="one-fish-summary">one fish?</summary>
                    <p>if only there were two fish!</p>
                </details>
                <details id="two-fish-details">
                    <summary id="two-fish-summary">two fish?</summary>
                    <p>well now that we have two fish, don't you wish ...</p>
                </details>
                <details id="red-fish-details">
                    <summary id="red-fish-summary">red fish?</summary>
                    <p>... for a blue fish!</p>
                </details>
                <details id="blue-fish-details">
                    <summary id="blue-fish-summary">blue fish?</summary>
                    <p>ahhh.. that's the ticket</p>
                </details>
            </section>
        </main>
        <script>
            const toggleFAQsHandler = (event) => {
                const target = event.target;
                if (target.nodeName !== 'SUMMARY') {
                    return;
                }
                const sectionEl = event.currentTarget;
                console.log('sectionEl : ' + sectionEl);
                const sectionChildren = sectionEl.children;
                for (const details of sectionChildren) {
                    const summary = details.children[0];
                    const wasNotClicked = summary !== target;
                    const isOpen = details.open === true;
                    if (wasNotClicked && isOpen) {
                        details.open = false;
                    }
                }
            };
        </script>
        <script>
            document
                .getElementById('faqs')
                .addEventListener('click', toggleFAQsHandler);
        </script>
    </body>
</html>
